<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Issing</title>
    <!-- D3 for world map -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <!-- MathJax  -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        :root {
            --primary-green: #2d5a3d;
            --font: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
            --map-water: #cfe8ff;
            --map-land:  #e6e9ef;
            --map-stroke:#94a3b8;
            --map-visited: #5a8c6e;
            --light-green: #5a8c6e;
            --accent-blue: #3b82c4;
            --dark-text: #1a1a1a;
            --light-text: #666;
            --light-bg: #f8faf9;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --water1: #b9d8ff;
            --water2: #eaf4ff;
            --land:   #e9edf2;
            --stroke: #9aa8b8;
            --accent-gray: #808080;
            --visited-stroke: #ffffff;
            --graticule: rgba(48,72,96,.25);
        }

        a {
            color: var(--accent-gray);
            text-decoration: none;
            border-bottom: 1px dotted currentColor;
        }

        [data-theme="dark"] {
            --primary-green: #4a8c65;
            --map-water:#1e293b;
            --map-land: #2a3142;
            --map-stroke:#3f4a5a;
            --map-visited:#5a9fd8; /* blue accent in dark */
            --light-green: #6ba583;
            --accent-blue: #5a9fd8;
            --dark-text: #e8e8e8;
            --light-text: #b0b0b0;
            --light-bg: #1a1f2e;
            --white: #2a3142;
            --shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--dark-text);
            background: var(--light-bg);
            transition: background 0.3s ease, color 0.3s ease;
        }
    
        #world-map { position: relative; width: 100%; height: 460px; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 28px rgba(0,0,0,.08); background: transparent; }
        #world-map svg { display:block; }
        #world-map .sphere { fill: url(#oceanGradient); }
        #world-map .graticule { fill:none; stroke: var(--graticule); stroke-width:.5; }
        #world-map .country { stroke: var(--stroke); stroke-width:.35; vector-effect: non-scaling-stroke; }
        #world-map .country.visited {
        stroke: var(--visited-stroke);
        stroke-width: .7;
        filter: url(#visitedShadow);
        cursor: pointer;
        transition: transform .06s ease;
        }
        #world-map .country.visited:hover { filter: url(#visitedGlow); }
        .map-tooltip{
        position:absolute; pointer-events:none; padding:6px 9px; border-radius:8px;
        font-size:12px; color:#fff; background:rgba(0,0,0,.78);
        opacity:0; transform:translate(-50%,-120%); transition:opacity .12s ease;
        white-space: nowrap; backdrop-filter: blur(2px);
        }
        .travel-stats{ margin-top:12px; color:#334155; font-size:14px }
        h3 { margin: 8px 0 14px; font-size:22px; }
        .legend { display:flex; gap:8px; align-items:center; margin-top:10px; font-size:12px; color:#475569; }
        .legend .swatch { width:14px; height:14px; border-radius:3px; border:1px solid rgba(0,0,0,.15) }

        /* Dark Mode Toggle */
        .theme-toggle {
            position: fixed;
            top: 1rem;
            right: 2rem;
            z-index: 1001;
            background: var(--white);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .theme-toggle:hover {
            transform: rotate(30deg) scale(1.1);
        }

        .theme-toggle svg {
            width: 24px;
            height: 24px;
            fill: var(--dark-text);
            transition: var(--transition);
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        [data-theme="dark"] nav {
            background: rgba(42, 49, 66, 0.95);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            flex-wrap: wrap;
        }

        nav li {
            margin: 0 1.5rem;
        }

        nav a {
            text-decoration: none;
            color: var(--dark-text);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }

        nav a:hover {
            color: var(--primary-green);
        }

        nav a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary-green);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { width: 0; }
            to { width: 100%; }
        }

        /* Sections */
        section {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        section:first-of-type {
            margin-top: 4rem;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary-green);
            animation: fadeInUp 0.8s ease;
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--primary-green);
            text-align: center;
        }

        h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark-text);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Home Section */
        #home {
            text-align: center;
            background: linear-gradient(135deg, rgba(45, 90, 61, 0.1), rgba(59, 130, 196, 0.1));
            border-radius: 20px;
            padding: 4rem 2rem;
            min-height: auto;
        }

        .tagline {
            font-size: 1.5rem;
            color: var(--light-green);
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            margin-top: 2rem;
            animation: fadeInUp 0.8s ease 0.4s both;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: var(--white);
            border-radius: 50%;
            text-decoration: none;
            color: var(--dark-text);
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .social-links a:hover {
            transform: translateY(-3px) scale(1.1) rotate(5deg);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            background: var(--primary-green);
            color: var(--white);
        }

        .social-links svg {
            width: 22px;
            height: 22px;
            fill: currentColor;
            transition: var(--transition);
        }

        /* About Section */
        #about {
            padding: 5rem 2rem;
            min-height: auto;
        }

        .about-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 3rem;
            align-items: center;
            background: var(--white);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        .about-image {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .about-image-placeholder {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .about-content {
            padding: 1rem;
        }

        .about-content p {
            margin-bottom: 1.5rem;
            color: var(--light-text);
            line-height: 1.8;
        }

        /* CV Section */
        .cv-item {
            background: var(--white);
            padding: 2rem;
            margin-bottom: 1.5rem;
            border-radius: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-left: 4px solid var(--primary-green);
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
        }
        
        .cv-icon {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
            flex-shrink: 0;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .cv-content {
            flex: 1;
        }
        
        .cv-content h3 {
            margin-bottom: 0.5rem;
        }
        
        .cv-content p {
            margin-bottom: 0.5rem;
        }
        
        .cv-content p:last-child {
            margin-bottom: 0;
        }

        .cv-item:hover {
            transform: translateX(10px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        /* Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .project-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .project-content {
            padding: 2rem;
        }

        .project-media {
            width: 100%;
            height: 250px;
            background: var(--light-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light-green);
        }

        .project-media iframe,
        .project-media img,
        .project-media video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .project-media .placeholder {
            color: var(--light-text);
            font-style: italic;
        }

        .tech-stack {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .tech-tag {
            background: var(--light-green);
            color: var(--white);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
        }

        /* Writing Section */
        #writing {
            padding: 5rem 2rem;
        }

        .blog-posts {
            display: grid;
            gap: 2rem;
            margin-top: 2rem;
        }

        .blog-post {
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .blog-post:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .blog-date {
            color: var(--light-green);
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .blog-title {
            color: var(--dark-text);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .blog-excerpt {
            color: var(--light-text);
            line-height: 1.6;
        }

        .load-more {
            text-align: center;
            margin-top: 2rem;
        }

        .load-more button {
            background: var(--primary-green);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
        }

        .load-more button:hover {
            background: var(--light-green);
            transform: scale(1.05);
        }

        /* Adventure Section */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        /* Collapsible photo gallery */
        .photo-gallery.collapsed .photo-item:nth-child(n+9) {
            display: none;
        }

        .expand-gallery-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin: 2rem auto;
            background: var(--primary-green);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: var(--transition);
            max-width: 200px;
        }

        .expand-gallery-btn:hover {
            background: var(--light-green);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .expand-gallery-btn svg {
            width: 16px;
            height: 16px;
            transition: transform 0.3s ease;
        }

        .expand-gallery-btn.expanded svg {
            transform: rotate(180deg);
        }

        @media (max-width: 768px) {
            .photo-gallery.collapsed .photo-item:nth-child(n+5) {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .photo-gallery.collapsed .photo-item:nth-child(n+3) {
                display: none;
            }
        }

        /* Collapsible book sections */
        .books-grid.collapsed .book-card:nth-child(n+4) {
            display: none;
        }

        .expand-books-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin: 1.5rem auto 0;
            background: var(--primary-green);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: var(--transition);
            max-width: 200px;
        }

        .expand-books-btn:hover {
            background: var(--light-green);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .expand-books-btn svg {
            width: 14px;
            height: 14px;
            transition: transform 0.3s ease;
        }

        .expand-books-btn.expanded svg {
            transform: rotate(180deg);
        }

        @media (max-width: 768px) {
            .books-grid.collapsed .book-card:nth-child(n+3) {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .books-grid.collapsed .book-card:nth-child(n+2) {
                display: none;
            }
        }

        .photo-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            height: 250px;
            background: linear-gradient(135deg, var(--light-green), var(--accent-blue));
            cursor: pointer;
            transition: var(--transition);
        }

        .photo-item:hover {
            transform: scale(1.05);
            z-index: 10;
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 2000;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s ease;
        }

        .lightbox.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .lightbox-image-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-description {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            text-align: center;
            padding: 0.75rem 1.5rem;
            font-size: 1.1rem;
            font-weight: 500;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 25px;
            backdrop-filter: blur(4px);
            max-width: calc(100% - 40px);
            box-sizing: border-box;
            z-index: 10;
        }

        .lightbox img {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            display: block;
            animation: zoomIn 0.3s ease;
            object-fit: contain;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 40px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }

        .lightbox-close:hover {
            color: var(--primary-green);
            transform: scale(1.2);
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 30px;
            cursor: pointer;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            transition: var(--transition);
        }

        .lightbox-nav:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .adventure-highlights {
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 3rem;
        }

        .adventure-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-top: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 280px;
            perspective: 1000px;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 15px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .flip-card-front {
            background: var(--white);
            display: flex;
            flex-direction: column;
        }

        .flip-card-back {
            background: var(--white);
            transform: rotateY(180deg);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .flip-card-image {
            width: 100%;
            height: 200px;
            background: var(--light-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light-text);
            font-style: italic;
            position: relative;
            overflow: hidden;
        }

        .flip-card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .flip-card-title {
            padding: 1rem 1.5rem;
            background: var(--white);
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .flip-card-title h4 {
            color: var(--primary-green);
            margin: 0;
            font-size: 1.1rem;
            line-height: 1.3;
        }

        .flip-card-back h4 {
            color: var(--primary-green);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .flip-card-back p {
            color: var(--dark-text);
            line-height: 1.6;
            margin: 0;
        }

        .flip-indicator {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 15px;
            font-size: 0.75rem;
            pointer-events: none;
        }

        @media (max-width: 768px) {
            .adventure-grid {
                grid-template-columns: 1fr;
                max-width: 400px;
            }
            
            .flip-card {
                height: 320px;
            }
        }

        /* World Travel Map */
        .world-travel {
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 3rem;
            box-shadow: var(--shadow);
            max-width: 980px; 
            margin: 0 auto; 
        }

        .world-travel h3 {
            text-align: center;
            color: var(--primary-green);
            margin-bottom: 2rem;
        }

        #world-map {
            margin: 2rem 0;
        }

        .travel-stats {
            text-align: center;
            font-size: 1.5rem;
            color: var(--primary-green);
            font-weight: 600;
            padding: 1rem;
            background: linear-gradient(135deg, rgba(45, 90, 61, 0.1), transparent);
            border-radius: 10px;
        }

        .country-count {
            font-size: 2rem;
            color: var(--accent-blue);
        }

        .world-percentage {
            font-size: 2rem;
            color: var(--light-green);
        }

        /* Books Section */
        .books-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-top: 2rem;
        }

        .book-category h3 {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary-green);
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1.5rem;
        }

        .book-card {
            perspective: 1000px;
            height: 220px;
            cursor: pointer;
            transition: all 0.6s ease;
        }

        .book-card.flipped {
            height: 420px;
            z-index: 10;
        }

        .book-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .book-card.flipped .book-inner {
            transform: rotateY(180deg);
        }

        .book-front, .book-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }

        .book-front {
            background: linear-gradient(135deg, var(--primary-green), var(--light-green));
            color: white;
        }

        .book-back {
            background: var(--white);
            transform: rotateY(180deg);
            color: var(--dark-text);
            font-size: 0.8rem;
            padding: 1rem;
            justify-content: flex-start;
            text-align: left;
            line-height: 1.5;
        }

        .book-back h3 {
            color: var(--primary-green);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .book-back .book-author {
            color: var(--light-text);
            margin-bottom: 1rem;
            font-style: italic;
        }

        .book-back .book-review {
            color: var(--dark-text);
            font-size: 0.85rem;
            line-height: 1.4;
        }

        .book-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .book-author {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .book-front img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .book-front {
            padding: 0;
            background: none;
        }

        /* Contact Section */
        #contact {
            text-align: center;
        }

        .contact-form {
            max-width: none;
            width: 100%;
            margin: 2rem 0;
            background: var(--white);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--primary-green);
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid transparent;
            background: var(--light-bg);
            border-radius: 10px;
            transition: var(--transition);
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-green);
            background: var(--white);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 180px;
        }

        .submit-btn {
            background: var(--primary-green);
            color: white;
            padding: 1rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .submit-btn:hover {
            background: var(--light-green);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.75rem; }
            .books-container { grid-template-columns: 1fr; }
            .projects-grid { grid-template-columns: 1fr; }
            nav li { margin: 0 0.75rem; }
            .social-links {
                gap: 1rem;
            }
            .social-links a {
                width: 45px;
                height: 45px;
            }
            .about-container {
                grid-template-columns: 1fr;
            }
            .theme-toggle {
                top: 4.5rem;
                right: 1rem;
            }
        }
    
/* === Mobile & layout settings === */

/* Make "About Me" two-column layout stack on phones and widen text */
@media (max-width: 768px) {
  .about-container { grid-template-columns: 1fr; padding: 1.5rem; gap: 1.25rem; }
  .about-content, .about-content p { max-width: none; }
}

/* CV: stack logo above title on phones; let content use full width */
@media (max-width: 768px) {
  .cv-item { flex-direction: column; align-items: flex-start; gap: .75rem; }
  .cv-icon { width: 64px; height: 64px; margin: 0 0 .25rem 0; }
}

/* World map: remove extra vertical space by matching 2:1 aspect; let svg fill */
#world-map { height: auto !important; aspect-ratio: 2 / 1; }
#world-map svg { width: 100% !important; height: 100% !important; display: block; }

/* Lightbox caption: move to bottom and shrink on mobile */
@media (max-width: 768px) {
  .lightbox-description {
    bottom: 8px; left: 0; transform: none;
    width: 100%; max-width: none;
    text-align: left;
    font-size: .9rem; padding: .5rem .75rem; border-radius: 0;
    background: linear-gradient(to top, rgba(0,0,0,.7), rgba(0,0,0,0));
  }
}

/* Adventure (running & cycling) cards: make back content readable */
@media (max-width: 768px) {
  .adventure-grid { gap: 1rem; }
  .flip-card { height: auto; }
  .flip-card-inner { transform: none !important; min-height: 0; }
  .flip-card-front, .flip-card-back { position: relative; height: auto; }
  .flip-card-back { display: none; transform: none !important; }
  .flip-card.show-details .flip-card-back { display: block; margin-top: .75rem; }
}

/* Books: disable 3D flip on phones; use tap-to-reveal text below cover */
@media (max-width: 768px) {
  .books-grid { grid-template-columns: 1fr !important; }
  .book-card { height: auto; }
  .book-inner { transform: none !important; }
  .book-front, .book-back { position: relative; height: auto; backface-visibility: visible; }
  .book-back { transform: none !important; } /* un-mirror the text */
  .book-card.show-details .book-back { display: block; margin-top: .75rem; }
}


/* Hamburger visibility & nav behavior */
.menu-toggle {
  position: fixed; top: 1rem; left: 1rem; z-index: 1002; display: none;
  background: var(--white); border: 0; width: 44px; height: 44px; border-radius: 999px;
  box-shadow: var(--shadow); font-size: 1.25rem; cursor: pointer;
}
@media (max-width: 768px) {
  .menu-toggle { display: inline-flex; align-items: center; justify-content: center; }
  nav ul { display: none; }
  nav ul.is-open { display: flex; flex-wrap: wrap; gap: .5rem 1rem; padding: 4rem 1rem 1rem; }
}

</style>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
        <svg class="sun-icon" viewBox="0 0 24 24" style="display: block;">
            <path d="M12 17.5C9.5 17.5 7.5 15.5 7.5 13S9.5 8.5 12 8.5 16.5 10.5 16.5 13 14.5 17.5 12 17.5M12 7C8.7 7 6 9.7 6 13S8.7 19 12 19 18 16.3 18 13 15.3 7 12 7M12 2L14.4 6.4L19 5.7L16.2 9.8L18.6 14L14 12.7L9.4 14L11.8 9.8L9 5.7L13.6 6.4L12 2Z"/>
        </svg>
        <svg class="moon-icon" viewBox="0 0 24 24" style="display: none;">
            <path d="M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z"/>
        </svg>
    </button>
    <button class="menu-toggle" aria-expanded="false" aria-controls="site-nav" aria-label="Open menu">☰</button>
    <!-- Navigation -->
    <nav>
        <ul id="site-nav">
            <li><a href="#home" class="nav-link active">Home</a></li>
            <li><a href="#about" class="nav-link">About</a></li>
            <li><a href="#cv" class="nav-link">CV</a></li>
            <li><a href="#coding" class="nav-link">Coding</a></li>
            <li><a href="#travel" class="nav-link">Travel</a></li>
            <li><a href="#exploits" class="nav-link">Exploits</a></li>
            <li><a href="#writing" class="nav-link">Writing</a></li>
            <li><a href="#books" class="nav-link">Book Recs</a></li>
            <li><a href="#contact" class="nav-link">Contact</a></li>
        </ul>
    </nav>

    <!-- Home Section -->
    <section id="home">
        <h1>Daniel Issing</h1>
        <i><p class="tagline">Irony is the song of a bird that has come to love its cage.</p></i>
        <div class="social-links">
            <a href="https://linkedin.com/in/daniel-issing" target="_blank" title="LinkedIn">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
            <a href="https://github.com/danielissing" target="_blank" title="GitHub">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
            <a href="https://medium.com/@daniel-issing" target="_blank" title="Medium">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zM20.96 12c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z"/>
                </svg>
            </a>
            <a href="https://strava.com/athletes/16293064" target="_blank" title="Strava">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.387 17.944l-2.089-4.116h-3.065L15.387 24l5.15-10.172h-3.066m-7.008-5.599l2.836 5.598h4.172L10.463 0l-7 13.828h4.169"/>
                </svg>
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <h2>About Me</h2>
        <div class="about-container">
            <div class="about-image">
                <img loading="lazy" src="images/daniel.png" alt="Daniel Issing">
            </div>
            <div class="about-content">
                <p>
                    Hi there and thanks for taking the time to check out my website! I'm Daniel, a researcher in global health and development.
                    As with many things in life, serendipity and lucky encounters played a major role in getting me to where I am today. My trajectory
                    has been anything but linear, and over the last decade I have, at various points in time, been working on obscure mathematical objects used to
                    model quantum systems, running leadership trainings out an old leprosy ward in Nepal, and helped insurers identify and investigate fraudulent claims. 
                    You can learn more about my path <a href="#cv" class="nav-link">here</a>.<br><br>

                    I'm a generalist by temperament, a jack of many trades but master of few. I enjoy <a href="#coding" class="nav-link">coding</a>  and wrestling with math problems, 
                    <a href="#books" class="nav-link">reading</a> about topics from astronomy to zoology, and <a href="#writing" class="nav-link">writing</a> about things big and small that capture my imagination. 
                    While this likely bars me from becoming a true subject matter expert in any domain, I like to imagine that it lets me spot patterns and connections that others may miss.
                    If there's a thread connecting all of the above, it's probably just a stubborn commitment to understanding how things actually work, whether that's AI, quantum computing or programs to alleviate global poverty. <br><br>

                    And why limit my curiosity to intellectual pursuits? 
                    I'm an avid trail runner and cyclist, which has opened up new ways to explore my limits, some of which I've highlighted <a href="#exploits" class="nav-link">below</a>.
                    And I love connecting these exploits with <a href="#travel" class="nav-link">traveling</a> to new places, because even in our digital age, there is nothing quite like immersing yourself physically in a place.
                    The hope is that all of this will teach me something about whether I, like the bird, should be approaching the cage with Camusian irony or refuse to go gentle into that good night. 
                
                </p>
            </div>
        </div>
    </section>

    <!-- CV Section -->
    <section id="cv">
        <h2>Experience & Education</h2>
        
        <div class="cv-item">
            <img loading="lazy" src="icons/givewell.png" alt="GiveWell" class="cv-icon">
            <div class="cv-content">
                <h3>Senior Research Associate</h3>
                <p><strong><a href = "https://www.givewell.org/" target="_blank">GiveWell</a></strong></p>
                <p>As a researcher at GiveWell, I explore new areas of grantmaking to expand the organization's footprint
                    and enable them to unlock new funding opportunities. GiveWell focuses on identifying the most
                    cost-effective programs to ensure that donations have the highest impact on global well-being. 
                    This work includes assessing the evidence behind programs, modeling disease burden, learning about the strengths and weaknesses of the implmenting organization,
                    diving into M&E data, among many other things. </p>
            </div>
        </div>

        <div class="cv-item">
            <img loading="lazy" src="icons/shift.png" alt="Shift Technology" class="cv-icon">
            <div class="cv-content">
                <h3>Data Science Team Lead</h3>
                <p><strong><a href = "https://www.shift-technology.com/" target="_blank">Shift Technology</a> </strong></p>
                <p>At Shift, I helped develop and customize an AI-powered fraud detection software for insurance companies. I oversaw a team that worked with major
                    insurers in the UK and Germany, with the goal of supporting their fraud teams to identify suspicious cases quickly and reliably.
                    You can find a couple of interesting case studies to see how this works at this
                     <a href = "https://www.shift-technology.com/resources/case-studies" target="_blank">link</a>.
                </p>
            </div>
        </div>

        <div class="cv-item">
            <img loading="lazy" src="icons/sfl.png" alt="Students For Liberty" class="cv-icon">
            <div class="cv-content">
                <h3>Asia Program Manager</h3>
                <p><strong><a href = "https://studentsforliberty.org/" target="_blank">Students For Liberty</a></strong></p>
                <p>After volunteering with them for many years, during which I organized numerous conferences, talks and seminars and launched a student magazine, 
                    I joined SFL's staff full-time to expand their chapters and activities across Asia. I coordinated with student groups from Afghanistan to Indonesia, 
                    helping establish new chapters, training local organizers, and adapting programming for diverse cultural contexts. 
                    I'm very grateful for the many inspiring individuals I met during that time, who went above and beyond to promote a message of freedom, peaceful coexistence and open dialogue in very challenging or outrightly hostile environments.
                </p>
            </div>
        </div>

        <div class="cv-item">
            <img loading="lazy" src="icons/lmu.png" alt="LMU Munich" class="cv-icon">
            <div class="cv-content">
                <h3>MSc in Theoretical and Mathematical Physics</h3>
                <p><strong><a href = "https://www.lmu.de/en/" target="_blank">Ludwig Maximilian University Munich</a> &
                     <a href = "https://lapth.cnrs.fr/en" target="_blank">LAPTh</a></strong></p>
                <p>I was accepted into the joint LMU & TUM <a href = "https://www.theorie.physik.uni-muenchen.de/TMP/index.html" target="_blank">elite master course on theoretical and mathematical physics</a> for my graduate studies. 
                    My thesis (which you can find <a href = "https://www.theorie.physik.uni-muenchen.de/TMP/theses/issingthesis.pdf" target="_blank">here</a>)
                    was written under the supervision of Luc Frappat and Eric Ragoucy at the Labortoire d'Annecy-le-Vieux de Physique Théorique (LAPTh). The collaboration resulted in a paper
                     in which we showed how to constructed the center of an elliptic algebra that's relevant to the study of quantum integrable systems. If all of this
                    sounds like mumbo jumbo to you, <a href = "https://daniel-issing.medium.com/particles-symmetries-and-the-weird-world-of-quantum-mechanics-69f87968a778" target="_blank">here's my attempt</a> to provide a non-technical, high-level overview of that work.
            </div>
        </div>

        <div class="cv-item">
            <img loading="lazy" src="icons/heidelberg.png" alt="Heidelberg University" class="cv-icon">
            <div class="cv-content">
                <h3>BSc in Physics</h3>
                <p><strong><a href = "https://www.uni-heidelberg.de/en" target="_blank">Ruprecht Karls University Heidelberg</a> &
                     <a href = "https://carleton.ca/" target="_blank">Carleton University, Ottawa</a></strong></p>
                <p>I went into physics for its promise to offer a glimpse into the fabric of reality at its most fundamental level. 
                    My specialization was quantum mechanics, or, more precisely, lattice models for which the Schrödinger equation could be solved analytically.
                    My thesis, written under the supervision of Tilman Enss, dealt with non-equilibrium dynamics (quantum quenches) for just such systems.
                    <br><br>
                    As part of my undergrad degree, I also spent a year in Canada, which was a formative experience for me. I can't recommend studying abroad enough to broaden your horizon and learn to be independent.
                    </p>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="coding">
        <h2>Coding</h2>
            <p style="margin-bottom: 2rem; text-align: center;"> A selection on personal projects I've been working on. 
                You can find more examples on my <a href="https://github.com/danielissing/" target="_blank" >GitHub page.</a> </p>
        <div class="projects-grid">

            <div class="project-card">
                <div class="project-content" style="padding-bottom: 1rem;">
                    <h3>LLM Mathematical Reasoning Benchmark</h3>
                </div>
                <div class="project-media">
                    <img loading="lazy" src="images/euler.png" alt="Euler Project">
                </div>
                <div class="project-content" style="padding-top: 1rem;">
                    <p>How good are state-of-the-art AI models at solving coding challenges that require the clever application
                        of mathematical insights lest the program runs forever? 
                    </p>
                    <p style="margin-top: 1rem;">For this project, I pitted three LLMs against each other and challenged them to
                        generate scripts for Project Euler problems of ever-increasing complexity. The results were surprising in many ways.</p>
                    <p style="margin-top: 1rem;">
                        <a href="https://github.com/danielissing/euler" target="_blank" >View on GitHub →</a>
                    </p>
                </div>
            </div>

            <div class="project-card">
                <div class="project-content" style="padding-bottom: 1rem;">
                    <h3>Personal Race Time Predictor</h3>
                </div>
                <div class="project-media">
                    <video preload="metadata" controls src="videos/app_demo.mp4" style="width:100%; height:100%; object-fit:cover;"></video>
                </div>
                <div class="project-content" style="padding-top: 1rem;">
                    <p>A Monte Carlo model that predicts race times based on past performance and course elevation profiles for each leg of the race.</p>
                    <p style="margin-top: 1rem;">The app provides automatic integration with the Strava API to provide personalized pacing strategies. It 
                        also lets use visualize each segment and provides valuable input for your crew.
                    </p>
                    <p style="margin-top: 1rem;">
                        <a href="https://github.com/danielissing/race-predictor" target="_blank" >View on GitHub →</a>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Travel Section -->
    <section id="travel">
        <h2>Traveling</h2>
        
        <div class="world-travel">
            <p style="text-align: center; color: var(--light-text); font-style: italic; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto; line-height: 1.7;">
                The earth is just one small planet in our solar system, which itself makes up but a tiny part of one of trillions of galaxies.
                And yet, I've seen preciously little of it.
                This map serves as a reminder that there are still many places left to be explored, and many things I don't know. 
                Scroll down for some highlights from places I did get a chance to visit!
            
            </p>
            <div id="world-map">
                <svg viewBox="0 0 1000 500" style="width: 100%; height: 100%;"></svg>
            </div>
            <div class="travel-stats">
                <span class="country-count">0</span> countries · 
                <span class="world-percentage">0%</span> of the world
            </div>
        </div>
        
        <div class="photo-gallery collapsed" id="photo-gallery">
            <div class="photo-item" onclick="openLightbox(0)">
                <img loading="lazy" src="images/jasper.jpg" alt="Jasper, Canada">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(1)">
                <img loading="lazy" src="images/granada.png" alt="Granada, Spain">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(2)">
                <img loading="lazy" src="images/achenkanzel.png" alt="Koenigssee, Germany">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(3)">
                <img loading="lazy" src="images/quilotoa.png" alt="Quilotoa Crater Lake, Ecuador">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(4)">
                <img loading="lazy" src="images/grindelwald.png" alt="Grindelwald, Switzerland">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img loading="lazy" src="images/toubkal.png" alt="Mount Toubkal, Morocco">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(6)">
                <img loading="lazy" src="images/banff.png" alt="Banff, Canada">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(7)">
                <img loading="lazy" src="images/zion.png" alt="Zion National Park, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(8)">
                <img loading="lazy" src="images/bariloche.png" alt="San Carlos de Bariloche, Argentina">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(9)">
                <img loading="lazy" src="images/cape_town.png" alt="Cape Town, South Africa">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(10)">
                <img loading="lazy" src="images/chamonix.png" alt="Chamonix, France">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(11)">
                <img loading="lazy" src="images/chile.png" alt="Putre, Chile">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(12)">
                <img loading="lazy" src="images/emosson.png" alt="Emosson Dam, Switzerland">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(13)">
                <img loading="lazy" src="images/kauai.png" alt="Kauai, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(14)">
                <img loading="lazy" src="images/lugano.png" alt="Lake Lugano, Switzerland">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(15)">
                <img loading="lazy" src="images/mammoth.png" alt="Mammoth Lakes, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(16)">
                <img loading="lazy" src="images/paxos.png" alt="Paxos, Greece">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(17)">
                <img loading="lazy" src="images/pyrenees.png" alt="Lac de Gaube, France">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(18)">
                <img loading="lazy" src="images/squamish.png" alt="Squamish, Canada">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(19)">
                <img loading="lazy" src="images/st_bernard.png" alt="Near the Col du Petit St. Bernard, France">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(20)">
                <img loading="lazy" src="images/redwoods.png" alt="Coastal Redwoods near Santa Cruz, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(21)">
                <img loading="lazy" src="images/uyuni.png" alt="Salar de Uyuni, Bolivia">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
        </div>

        <button class="expand-gallery-btn" id="expand-gallery-btn" onclick="toggleGallery()">
            <span id="expand-text">Show More Photos</span>
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M7.41 8.59L12 13.17L16.59 8.59L18 10L12 16L6 10L7.41 8.59Z"/>
            </svg>
        </button>
    </section>

    <!-- Sports Section -->
    <section id="exploits">
        <h2>Running & Cycling</h2>
            <p style="margin-bottom: 2rem;text-align: center;">There are many ways to test one's limit, but for me, nothing beats endurance sports. 
                Especially when you can combine it with breathtaking views! Ever since I ran my first half marathon at age 16, I've been hooked, and have participated 
                in  (and finished) over 35 ultramarathons. Below is a small selection of the most daunting, beautiful and at times soul-crushing exploits I foolishly signed up for.
            </p>

        <!-- Lightbox -->
        <div id="lightbox" class="lightbox">
            <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
            <div class="lightbox-content">
                <div class="lightbox-image-container">
                    <span class="lightbox-nav lightbox-prev" onclick="changePhoto(-1)">‹</span>
                    <img loading="lazy" id="lightbox-img" src="" alt="Travel photo">
                    <span class="lightbox-nav lightbox-next" onclick="changePhoto(1)">›</span>
                    <div id="lightbox-description" class="lightbox-description">Photo description will appear here</div>
                </div>
            </div>
        </div>

        <div class="adventure-highlights">
            <div class="adventure-grid">

                <div class="flip-card" onclick="flipCard(this)">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="flip-card-image">
                                <img loading="lazy" src = "images/gr20a.jpg">
                                <div class="flip-indicator">Click to read more</div>
                            </div>
                            <div class="flip-card-title">
                                <h4>GR 20 </h4>
                            </div>
                        </div>
                        <div class="flip-card-back">
                            <h4>GR 20</h4>
                            <p>The <a href = "https://www.le-gr20.fr/en">GR20</a> is one of the most famous long-distance hikes in France, traversing Corsica from north to south. It's also famously rocky and technical,
                                especially the northern section. People usually hike it two weeks, but a friend and I decided we were going to try finish it in four days,
                                carrying all of our gear with us. It was rough.
                                </p>
                        </div>
                    </div>
                </div>

                <div class="flip-card" onclick="flipCard(this)">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="flip-card-image">
                                <img loading="lazy" src = "images/utmb.jpg">
                                <div class="flip-indicator">Click to read more</div>
                            </div>
                            <div class="flip-card-title">
                                <h4>Ultra Trail du Mont Blanc </h4>
                            </div>
                        </div>
                        <div class="flip-card-back">
                            <h4>Ultra Trail du Mont Blanc </h4>
                                <p>The atmosphere during the first 40k is absolutely bonkers, and the arrival after 170km is pure goosebumps. 
                                    There's a lot of justified criticism of the UTMB group, but end of the day they're putting on an amazing race and there's a reason why everyone wants to run it.
                                    Unfortunately, it takes a lot of time, money and luck to get into, so I doubt I'll be able to come back for a second lap. 
                                    <a href = "https://www.strava.com/activities/5869168768">Strava link</a>.</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card" onclick="flipCard(this)">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="flip-card-image">
                                <img loading="lazy" src = "images/eiger2.jpg">
                                <div class="flip-indicator">Click to read more</div>
                            </div>
                            <div class="flip-card-title">
                                <h4>Eiger Ultra Trail </h4>
                            </div>
                        </div>
                        <div class="flip-card-back">
                            <h4>Eiger Ultra Trail </h4>
                            <p>ThIis remains my longest race to date. The route wraps around the Eiger massive and includes lots of glaciers. 
                                With 260km and around 18,000m of vertical gain, this one is no joke, and we slept very little during those three days and two nights we were out on the trails.
                                <a href="https://daniel-issing.medium.com/tender-is-the-night-90e881be6e16">Race report.</a></p>
                        </div>
                    </div>
                </div>

                <div class="flip-card" onclick="flipCard(this)">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="flip-card-image">
                                <img loading="lazy" src = "images/via_alpina.png">
                                <div class="flip-indicator">Click to read more</div>
                            </div>
                            <div class="flip-card-title">
                                <h4>Via Alpina by bike</h4>
                            </div>
                        </div>
                        <div class="flip-card-back">
                            <h4>Via Alpina by bike</h4>
                            <p>The <a href = "https://www.via-alpina.org/" >Via Alpina</a> is a long-distance trek follows the Alps from Monaco to Muggia near Trieste,
                                 traversing 8 different countries. For our honeymoon, my wife and I created a bike-friendly version of this trip and spent a month climbing pass after pass. 
                                <a href = "https://daniel-issing.medium.com/via-alpina-vehentem-c6c884e2c32e">Travel log</a>.</p>        
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Writing Section -->
    <section id="writing">
        <h2>Writing</h2>
        <div id="blog-posts" class="blog-posts">
            <!-- Blog posts will be loaded here -->
            <div class="blog-post">
                <div class="blog-date">Loading posts...</div>
                <div class="blog-title">Fetching from Medium</div>
                <div class="blog-excerpt">Your latest articles will appear here.</div>
            </div>
        </div>
        <div class="load-more">
            <a href="https://medium.com/@daniel-issing" target="_blank" style="text-decoration: none;">
                <button>Read all of my writing on Medium</button>
            </a>
        </div>
    </section>

    <!-- Books Section -->
    <section id="books">
        <h2>Book Recommendations</h2>
            <p style="margin-bottom: 2rem; text-align: center;">A list of favorite books is never static, not only because - hopefully - some of them are yet to be read.
                Taste changes, once novel insights become self-evident truths, and sometimes I forget whether I actually liked a book or just wanted to. 
                All that is to say that the selection below is necessarily a snapshot of a particular moment in time, 
                but I don't think you'd regret picking up any of these. A few thoughts on what I liked about each book can be found by clicking on them. </p>
        
        <div class="books-container">
            <div class="book-category">
                <h3>Fiction</h3>
                <div class="books-grid collapsed" id="fiction-books">
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780593087480-M.jpg" alt="The Books of Jacob">
                            </div>
                            <div class="book-back">
                                <h4>The Books of Jacob</h4>
                                <p class="book-author">Olga Tokarczuk</p>
                                <p class="book-review">The novel starts off slow and it takes a while to get into the flow,
                                    but the effort is well worth is. An absolute masterwork, for which fortunately and excellent English translation exists.
                                    It's no small feat to write 900+ pages about the life of an obscure 18th century Jewish mystic and have the reader ask for more at the end.  
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780312420277-M.jpg" alt="The Feast of the Goat">
                            </div>
                            <div class="book-back">
                                <h4>The Feast of the Goat</h4>
                                <p class="book-author">Mario Vargas Llosa</p>
                                <p class="book-review">I've never read a Vargas Llosa novel I didn't like, but his exploration of power and corruption through the lens of Rafa Trujillo's dictatorship 
                                    may be the best of them all. Vargas Llosa was well-known as one of the powerful critics of left-wing authoritarianism in Latin America,
                                    but The Feast of the Goat proves that he wasn't ignorant of the illiberal, repressive movement on the right. A gripping read from start to finish.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9782070780976-M.jpg" alt="The Kindly Ones">
                            </div>
                            <div class="book-back">
                                <h4>Les Bienveillants</h4>
                                <p class="book-author">Jonathan Littell</p>
                                <p class="book-review">This is not the book you pack for a sumemr vacation on a tropical beach. It is an attempt to pour the
                                    "banality of evil" into literary form by revisiting the horrors of the Second World War through the eyes of an SS officer. 
                                    Dense, full of gratuitous, mind-numbing cruelty, Littell has created a tome that is designed to make your stomach churn.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9783596294336-M.jpg" alt="The Magic Mountain">
                            </div>
                            <div class="book-back">
                                <h4>Der Zauberberg</h4>
                                <p class="book-author">Thomas Mann</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780312421274-M.jpg" alt="The Corrections">
                            </div>
                            <div class="book-back">
                                <h4>The Corrections</h4>
                                <p class="book-author">Jonathan Franzen</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780156004800-M.jpg" alt="All the King's Men">
                            </div>
                            <div class="book-back">
                                <h4>All the King's Men</h4>
                                <p class="book-author">Robert Warren Penn</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780345417947-M.jpg" alt="The Cider House Rules">
                            </div>
                            <div class="book-back">
                                <h4>The Cider House Rules</h4>
                                <p class="book-author">John Irving</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780142000656-M.jpg" alt="East of Eden">
                            </div>
                            <div class="book-back">
                                <h4>East of Eden</h4>
                                <p class="book-author">John Steinbeck</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780140449013-M.jpg" alt="Faust">
                            </div>
                            <div class="book-back">
                                <h4>Faust I</h4>
                                <p class="book-author">Johann Wolfgang von Goethe</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780316066525-M.jpg" alt="Infinite Jest">
                            </div>
                            <div class="book-back">
                                <h4>Infinite Jest</h4>
                                <p class="book-author">David Foster Wallace</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9782070212033-M.jpg" alt="The Plague">
                            </div>
                            <div class="book-back">
                                <h4>La Peste</h4>
                                <p class="book-author">Albert Camus</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9782081246331-M.jpg" alt="The Map and the Territory">
                            </div>
                            <div class="book-back">
                                <h4>La Carte et le Territoire</h4>
                                <p class="book-author">Michel Houelllebecq</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780547577531-M.jpg" alt="The Prague Cemetery">
                            </div>
                            <div class="book-back">
                                <h4>The Prague Cemetery</h4>
                                <p class="book-author">Umberto Eco</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780061148521-M.jpg" alt="The Unbearable Lightness of Being">
                            </div>
                            <div class="book-back">
                                <h4>The Unbearable Lightness of Being</h4>
                                <p class="book-author">Milan Kundera</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780156032520-M.jpg" alt="A Tale of Love and Darkness">
                            </div>
                            <div class="book-back">
                                <h4>A Tale of Love and Darkness</h4>
                                <p class="book-author">Amos Oz</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9781681375663-M.jpg" alt="When We Cease to Understand the World">
                            </div>
                            <div class="book-back">
                                <h4>When we cease to understand the world</h4>
                                <p class="book-author">Benjamin Labatut</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780307387899-M.jpg" alt="The Road">
                            </div>
                            <div class="book-back">
                                <h4>The Road</h4>
                                <p class="book-author">Cormac McCarthy</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780375701429-M.jpg" alt="American Pastoral">
                            </div>
                            <div class="book-back">
                                <h4>American Pastoral</h4>
                                <p class="book-author">Philip Roth</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="expand-books-btn" id="expand-fiction-btn" onclick="toggleBooks('fiction')">
                    <span id="expand-fiction-text">Show More Books</span>
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7.41 8.59L12 13.17L16.59 8.59L18 10L12 16L6 10L7.41 8.59Z"/>
                    </svg>
                </button>
            </div>

            <div class="book-category">
                <h3>Non-Fiction</h3>
                <div class="books-grid collapsed" id="nonfiction-books">
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780674368309-M.jpg" alt="The Enigma of Reason">
                            </div>
                            <div class="book-back">
                                <h4>The Enigma of Reason</h4>
                                <p>Hugo Mercier & Dan Sperber</p>
                                <p class="book-review">This wonderful little book sets out to answer two questions: Why did reason evolve in the first place?
                                    And why does it so often lead us astray? Their approach is an engaging and sometimes controversial defense of the claims
                                    that reason can only be understood in a social context.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9781846141812-M.jpg" alt="The Righteous Mind">
                            </div>
                            <div class="book-back">
                                <h4>The Righteous Mind</h4>
                                <p class="book-author">Jonathan Haidt</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780465026562-M.jpg" alt="Gödel, Escher, Bach">
                            </div>
                            <div class="book-back">
                                <h4>Gödel, Escher, Bach</h4>
                                <p>Douglas Hofstadter</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780679746744-M.jpg" alt="Why We Get Sick">
                            </div>
                            <div class="book-back">
                                <h4>Why We Get Sick</h4>
                                <p>Randolph Nesse & George Williams</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780691166858-M.jpg" alt="The Secret of Our Success">
                            </div>
                            <div class="book-back">
                                <h4>The Secret of Our Success</h4>
                                <p>Joseph Henrich</p>
                                <p class="book-review">PLACEHOLDER.</p>          
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780300078152-M.jpg" alt="Seeing Like a State">
                            </div>
                            <div class="book-back">
                                <h4>Seeing Like a State</h4>
                                <p>James C. Scott</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9781476733500-M.jpg" alt="The Gene">
                            </div>
                            <div class="book-back">
                                <h4>The Gene</h4>
                                <p>Siddharta Mukherjee</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780061452062-M.jpg" alt="The Rational Optimist">
                            </div>
                            <div class="book-back">
                                <h4>The Rational Optimist</h4>
                                <p>Matt Ridley</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780465007844-M.jpg" alt="Bureaucracy">
                            </div>
                            <div class="book-back">
                                <h4>Bureaucracy</h4>
                                <p>James Q. Wilson</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780691147215-M.jpg" alt="Honeybee Democracy">
                            </div>
                            <div class="book-back">
                                <h4>Honeybee Democracy</h4>
                                <p>Thomas D. Seeley</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780812690682-M.jpg" alt="The Machinery of Freedom">
                            </div>
                            <div class="book-back">
                                <h4>The Machinery Of Freedom</h4>
                                <p>David D. Friedman</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780195037944-M.jpg" alt="Albion's Seed">
                            </div>
                            <div class="book-back">
                                <h4>Albion's Seed</h4>
                                <p>David Hackett Fisher</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780061146657-M.jpg" alt="The Sleepwalkers">
                            </div>
                            <div class="book-back">
                                <h4>The Sleepwalkers</h4>
                                <p>Christopher Clark</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780465094257-M.jpg" alt="Lost in Math">
                            </div>
                            <div class="book-back">
                                <h4>Lost in Math</h4>
                                <p>Sabine Hossenfelder</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780190495992-M.jpg" alt="The Elephant in the Brain">
                            </div>
                            <div class="book-back">
                                <h4>The Elephant in the Brain</h4>
                                <p>Robin Hanson & Kevin Simler</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780316067447-M.jpg" alt="The Evolution of God">
                            </div>
                            <div class="book-back">
                                <h4>The Evolution of God</h4>
                                <p>Robert Wright</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9781610390934-M.jpg" alt="Poor Economics">
                            </div>
                            <div class="book-back">
                                <h4>Poor Economics</h4>
                                <p>Abhijit Banerjee & Esther Duflo</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>   
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img loading="lazy" src="https://covers.openlibrary.org/b/isbn/9780805080124-M.jpg" alt="The Unfolding of Language">
                            </div>
                            <div class="book-back">
                                <h4>The Unfolding of Language</h4>
                                <p>Guy Deutscher</p>
                                <p class="book-review">PLACEHOLDER.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="expand-books-btn" id="expand-nonfiction-btn" onclick="toggleBooks('nonfiction')">
                    <span id="expand-nonfiction-text">Show More Books</span>
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7.41 8.59L12 13.17L16.59 8.59L18 10L12 16L6 10L7.41 8.59Z"/>
                    </svg>
                </button>
                </div>
            </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Get in Touch</h2>
        <p style="margin-bottom: 2rem;">Have a question or want to chat? I'd love to hear from you!</p>
        
        <div class="contact-form">
            <form action="https://formspree.io/f/mdklyqje" method="POST">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="subject">Subject</label>
                    <input type="text" id="subject" name="subject" required>
                </div>
                
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" required></textarea>
                </div>
                
                <button type="submit" class="submit-btn">Send Message</button>
            </form>
        </div>
    </section>

    <script>
        // Dark mode toggle
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            
            // Toggle icon visibility
            const sunIcon = document.querySelector('.sun-icon');
            const moonIcon = document.querySelector('.moon-icon');
            if (newTheme === 'dark') {
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
            } else {
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
            }
            
            // Save preference
            localStorage.setItem('theme', newTheme);
        }

        // Load theme preference
        window.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            const sunIcon = document.querySelector('.sun-icon');
            const moonIcon = document.querySelector('.moon-icon');
            if (savedTheme === 'dark') {
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
            }
        });

        // Smooth scroll and active nav highlighting
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.nav-link');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').slice(1) === current) {
                    link.classList.add('active');
                }
            });
        });

        // Book flipping
        
// === Mobile hamburger ===
(function() {
  const menuBtn = document.querySelector('.menu-toggle');
  const navList = document.getElementById('site-nav');
  if (menuBtn && navList) {
    menuBtn.addEventListener('click', () => {
      const open = navList.classList.toggle('is-open');
      menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
  }
})();

// === Books: on phones, use tap-to-reveal instead of 3D flip ===
function flipBook(card) {
  if (window.matchMedia('(max-width: 768px)').matches) {
    card.classList.toggle('show-details');
    return;
  }
  card.classList.toggle('flipped');
}

// === Lazy-load images, lighten videos ===
window.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('img:not([loading])').forEach(img => img.setAttribute('loading', 'lazy'));
  document.querySelectorAll('video').forEach(v => v.setAttribute('preload', 'metadata'));
});

/* previous flipBook replaced above */

        // Lightbox functionality
        let currentPhotoIndex = 0;
        
        // Photo descriptions array (same order as photos in gallery)
        const photoDescriptions = [
            'Near Old Fort Point in Jasper, Canada',
            'View of Granada and the Sierra Nevada from the Alhambra, Spain', 
            'View of Koenigssee from Achenkanzel, Germany',
            'Quilotoa Crater Lake, Ecuador',
            'Fiescherhorn seen from Grindelwald, Switzerland',
            'Refuge du Toubkal, Morocco',
            'Sulphur Mountain in Banff, Canada',
            'Canyon in Zion National Park, United States',
            'San Carlos de Bariloche, Argentina',
            'Kirstenbosch Botanical Garden near Cape Town, South Africa',
            'Below Lac Blanc, Chamonix, France',
            'Volcano sunrise in Putre, Chile',
            'View from Mont Buet over the Barrage d\'Emosson, Switzerland',
            'Hindu Monastery Kauai, United States',
            'Storm approaching over Lake Lugano, Switzerland',
            'Trailhead in Mammoth Lakes, United States',
            'Tripitos Arch in Paxos, Greece',
            'Lac de Gaube in the Pyrenees, France',
            'Howe Sound in Squamish, Canada',
            'Near the Col du Petit St. Bernard, France',
            'Coastal Redwoods near Santa Cruz, United States',
            'Salar de Uyuni, Bolivia'
        ];

        function openLightbox(index) {
            currentPhotoIndex = index;
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.add('active');
            updateLightboxImage();
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
        }

        function changePhoto(direction) {
            const galleryImages = document.querySelectorAll('.photo-item img');
            currentPhotoIndex = (currentPhotoIndex + direction + galleryImages.length) % galleryImages.length;
            updateLightboxImage();
        }

        function updateLightboxImage() {
            const galleryImages = document.querySelectorAll('.photo-item img');
            if (galleryImages[currentPhotoIndex]) {
                document.getElementById('lightbox-img').src = galleryImages[currentPhotoIndex].src;
                // Update description
                const descriptionElement = document.getElementById('lightbox-description');
                if (descriptionElement && photoDescriptions[currentPhotoIndex]) {
                    descriptionElement.textContent = photoDescriptions[currentPhotoIndex];
                    console.log('Description updated:', photoDescriptions[currentPhotoIndex]); // Debug log
                } else {
                    console.log('Description not found for index:', currentPhotoIndex); // Debug log
                }
            }
        }

        // Close lightbox with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeLightbox();
            } else if (e.key === 'ArrowLeft') {
                changePhoto(-1);
            } else if (e.key === 'ArrowRight') {
                changePhoto(1);
            }
        });

        // Close lightbox when clicking outside
        document.getElementById('lightbox').addEventListener('click', (e) => {
            if (e.target.id === 'lightbox') {
                closeLightbox();
            }
        });

        // Medium RSS feed integration
        async function loadMediumPosts() {
            const mediumUsername = 'daniel-issing'; 
            const rssUrl = `https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@${mediumUsername}`;
            
            try {
                const response = await fetch(rssUrl);
                const data = await response.json();
                
                if (data.status === 'ok') {
                    displayPosts(data.items.slice(0, 3)); // Show first 3 posts
                }
            } catch (error) {
                console.error('Error loading Medium posts:', error);
                document.getElementById('blog-posts').innerHTML = `
                    <div class="blog-post">
                        <div class="blog-title">Unable to load posts</div>
                        <div class="blog-excerpt">
                            Please visit my <a href="https://medium.com/@${mediumUsername}" target="_blank" >Medium profile</a> to read my articles.
                        </div>
                    </div>
                `;
            }
        }

        function displayPosts(posts) {
            const container = document.getElementById('blog-posts');
            container.innerHTML = posts.map(post => {
                const date = new Date(post.pubDate).toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Extract clean excerpt from description
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = post.description;
                const excerpt = tempDiv.textContent.substring(0, 200) + '...';
                
                return `
                    <a href="${post.link}" target="_blank" class="blog-post">
                        <div class="blog-date">${date}</div>
                        <div class="blog-title">${post.title}</div>
                        <div class="blog-excerpt">${excerpt}</div>
                    </a>
                `;
            }).join('');
        }

        let postsLoaded = 5;
        function loadMorePosts() {
            // This would load more posts in a real implementation
            alert('This would load more posts from Medium');
        }

        // Gallery expand/collapse functionality
        function toggleGallery() {
            const gallery = document.getElementById('photo-gallery');
            const btn = document.getElementById('expand-gallery-btn');
            const text = document.getElementById('expand-text');
            
            gallery.classList.toggle('collapsed');
            btn.classList.toggle('expanded');
            
            if (gallery.classList.contains('collapsed')) {
                text.textContent = 'Show More Photos';
            } else {
                text.textContent = 'Show Fewer Photos';
            }
        }

        // Books expand/collapse functionality
        function toggleBooks(section) {
            const booksGrid = document.getElementById(section + '-books');
            const btn = document.getElementById('expand-' + section + '-btn');
            const text = document.getElementById('expand-' + section + '-text');
            
            booksGrid.classList.toggle('collapsed');
            btn.classList.toggle('expanded');
            
            if (booksGrid.classList.contains('collapsed')) {
                text.textContent = 'Show More Books';
            } else {
                text.textContent = 'Show Fewer Books';
            }
        }

        // Load Medium posts when page loads
        loadMediumPosts();

        // Add fade-in animation to elements as they appear
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.cv-item, .project-card, .flip-card').forEach(el => {
            observer.observe(el);
        });

        // World Map - Visited Countries
        const visitedCountries = [
            'Albania',
            'Andorra', //not in GeoJSON
            'Argentina',
            'Austria',
            'Bolivia',
            'Belgium',
            'Bulgaria',
            'Canada',
            'Chile',
            'China',
            'Costa Rica',
            'Czechia',
            'Denmark',
            'Ecuador',
            'Egypt',
            'Estonia',
            'Finland',
            'France',
            'Germany',
            'Greece',
            'Hungary',
            'Indonesia',
            'Italy',
            'Latvia',
            'Liechtenstein', //not in geojson
            'Lithuania',
            'Luxembourg',
            'Malta',
            'Monaco', // not in geojson
            'Morocco',
            'Nepal',
            'Netherlands',
            'New Zealand',
            'North Macedonia',
            'Norway',
            'Panama',
            'Poland',
            'Portugal',
            'Qatar',
            'Romania',
            'Rwanda',
            'Senegal',
            'Serbia',
            'Slovakia',
            'Slovenia',
            'South Africa',
            'Spain',
            'Sweden',
            'Switzerland',
            'United Kingdom',
            'United States',
            //'Zambia',
        ];

        // D3 SVG World Map (no top-level await)
        window.addEventListener('DOMContentLoaded', function () {
          // base map
          const WORLD_GEOJSON = 'https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson';
          // normalize some dataset naming differences
          const alias = new Map([
            ['United States','USA'],
            ['United Kingdom', 'England'],
            ['Czechia','Czech Republic'],
            ['Swaziland','Eswatini'],
            ['Cape Verde','Cabo Verde'],
            ['Ivory Coast',"Côte d'Ivoire"],
            ['Laos',"Lao People's Democratic Republic"],
            ['South Korea','Korea, Republic of'],
            ['North Korea',"Korea (Democratic People's Republic of)"],
            ['Syria','Syrian Arab Republic'],
            ['Russia','Russian Federation'],
            ['Moldova','Moldova, Republic of'],
            ['Tanzania','United Republic of Tanzania'],
            ['Venezuela','Venezuela (Bolivarian Republic of)'],
            ['Micronesia','Micronesia (Federated States of)'],
            ['Palestine','Palestine, State of'],
            ['Burma','Myanmar'],
            ['Serbia', 'Republic of Serbia'],
            ['North Macedonia', 'Macedonia']
          ]);
          const normalize = n => alias.get(n) || n;
          const visitedSet = new Set(visitedCountries.map(normalize));
          const COUNTRY_TOTAL = 195;

          const svg = d3.select('#world-map svg')
            .attr('preserveAspectRatio','xMidYMid meet')
            .attr('viewBox','0 0 1000 500');

          // Clear previous
          svg.selectAll('*').remove();

          // ---- defs: ocean gradient & effects ----
          const defs = svg.append('defs');

          const grad = defs.append('radialGradient')
              .attr('id','oceanGradient')
              .attr('cx','50%').attr('cy','50%');
          grad.append('stop').attr('offset','0%').attr('stop-color','var(--water2)');
          grad.append('stop').attr('offset','100%').attr('stop-color','var(--water1)');

          // Drop shadow for visited
          const visitedShadow = defs.append('filter').attr('id','visitedShadow').attr('x','-20%').attr('y','-20%').attr('width','140%').attr('height','140%');
          visitedShadow.append('feDropShadow').attr('dx','0').attr('dy','.6').attr('stdDeviation','0.6').attr('flood-color','#000').attr('flood-opacity','.25');

          // Hover glow
          const visitedGlow = defs.append('filter').attr('id','visitedGlow').attr('x','-40%').attr('y','-40%').attr('width','180%').attr('height','180%');
          visitedGlow.append('feDropShadow').attr('dx','0').attr('dy','0').attr('stdDeviation','1.2').attr('flood-color','#3b82f6').attr('flood-opacity','.9');

          // Tooltip
          const tooltip = d3.select('#world-map').append('div').attr('class','map-tooltip');

          // Projection & path
          const projection = d3.geoNaturalEarth1().fitSize([1000, 500], {type:'Sphere'});
          const path = d3.geoPath(projection);

          // Ocean + graticules
          svg.append('path').datum({type:'Sphere'}).attr('class','sphere').attr('d', path);
          const grat = d3.geoGraticule10();
          svg.append('path').datum(grat).attr('class','graticule').attr('d', path);

          // Multi-color palette for visited
          const visitedPalette = [
              '#4f7cac', '#88ab75', '#f7a440', '#d46c70', '#7a5fac',
              '#3a9d8f', '#c08f5a', '#5aa2ae', '#e07a5f', '#7bb662'
          ];

          function colorFor(name){
              let h = 0;
              for (let i=0; i<name.length; i++) h = (h*31 + name.charCodeAt(i)) >>> 0;
              return visitedPalette[h % visitedPalette.length];
          }

          d3.json(WORLD_GEOJSON).then(geo => {
              const features = geo.features;
              const matchedVisited = new Set();

              svg.append('g').selectAll('path.country')
                .data(features)
              .join('path')
                  .attr('class', d => {
                  const nm = d.properties?.name_long || d.properties?.name || d.properties?.admin || 'Unknown';
                  const isVisited = visitedSet.has(nm);
                  if (isVisited) matchedVisited.add(nm);
                  return 'country' + (isVisited ? ' visited' : '');
                  })
                  // IMPORTANT: use .style('fill', ...) to override CSS and ensure palette shows
                  .style('fill', d => {
                  const nm = d.properties?.name_long || d.properties?.name || d.properties?.admin || 'Unknown';
                  return visitedSet.has(nm) ? colorFor(nm) : 'var(--land)';
                  })
                  .attr('d', path)
                  .on('mousemove', (event, d) => {
                  const nm = d.properties?.name_long || d.properties?.name || d.properties?.admin || 'Unknown';
                  const isVisited = visitedSet.has(nm);
                  tooltip
                      .style('left', `${event.offsetX}px`)
                      .style('top',  `${event.offsetY}px`)
                      .style('opacity', 1)
                      .html(`${nm}${isVisited ? ' · ✅ visited' : ''}`);
                  })
                  .on('mouseleave', () => tooltip.style('opacity', 0));

              // Stats
              const count = visitedSet.size;
              const pct = Math.round((count / COUNTRY_TOTAL) * 100);
              document.querySelector('.country-count').textContent = count;
              document.querySelector('.world-percentage').textContent = pct + '%';
          }).catch(err => console.error('World map error:', err));
          });

        // Flip cards: mobile = expand details; desktop = 3D flip
        function flipCard(card) {
        if (window.matchMedia('(max-width: 768px)').matches) {
            card.classList.toggle('show-details');
            return;
        }
        card.classList.toggle('flipped');
        }

    </script>
</body>
</html>