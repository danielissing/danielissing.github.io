<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Issing</title>
    <!-- Leaflet for world map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- D3 + TopoJSON (for drawing the world as SVG) -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson-client@3"></script>
    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        :root {
            --primary-green: #2d5a3d;
            --map-water: #cfe8ff;
            --map-land:  #e6e9ef;
            --map-stroke:#94a3b8;
            --map-visited: #5a8c6e;
            --light-green: #5a8c6e;
            --accent-blue: #3b82c4;
            --dark-text: #1a1a1a;
            --light-text: #666;
            --light-bg: #f8faf9;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] {
            --primary-green: #4a8c65;
            --map-water:#1e293b;
            --map-land: #2a3142;
            --map-stroke:#3f4a5a;
            --map-visited:#5a9fd8; /* blue accent in dark */
            --light-green: #6ba583;
            --accent-blue: #5a9fd8;
            --dark-text: #e8e8e8;
            --light-text: #b0b0b0;
            --light-bg: #1a1f2e;
            --white: #2a3142;
            --shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

          #world-map { position: relative; }
          #world-map svg .country { fill: var(--map-land); stroke: var(--map-stroke); stroke-width: 0.4; }
          #world-map svg .country.visited { fill: var(--map-visited); }
          #world-map svg .sphere { fill: var(--map-water); }
          .map-tooltip{
            position:absolute; pointer-events:none; padding:6px 8px; border-radius:6px;
            font-size:12px; color:#fff; background:rgba(0,0,0,.7); opacity:0; transform:translate(-50%,-120%);
            transition:opacity .15s ease;
          }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--dark-text);
            background: var(--light-bg);
            transition: background 0.3s ease, color 0.3s ease;
        }

        /* Dark Mode Toggle */
        .theme-toggle {
            position: fixed;
            top: 1rem;
            right: 2rem;
            z-index: 1001;
            background: var(--white);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .theme-toggle:hover {
            transform: rotate(30deg) scale(1.1);
        }

        .theme-toggle svg {
            width: 24px;
            height: 24px;
            fill: var(--dark-text);
            transition: var(--transition);
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        [data-theme="dark"] nav {
            background: rgba(42, 49, 66, 0.95);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            flex-wrap: wrap;
        }

        nav li {
            margin: 0 1.5rem;
        }

        nav a {
            text-decoration: none;
            color: var(--dark-text);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }

        nav a:hover {
            color: var(--primary-green);
        }

        nav a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary-green);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { width: 0; }
            to { width: 100%; }
        }

        /* Sections */
        section {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        section:first-of-type {
            margin-top: 4rem;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary-green);
            animation: fadeInUp 0.8s ease;
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--primary-green);
            text-align: center;
        }

        h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark-text);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Hero Section */
        #hero {
            text-align: center;
            background: linear-gradient(135deg, rgba(45, 90, 61, 0.1), rgba(59, 130, 196, 0.1));
            border-radius: 20px;
            padding: 4rem 2rem;
            min-height: auto;
        }

        .tagline {
            font-size: 1.5rem;
            color: var(--light-green);
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            margin-top: 2rem;
            animation: fadeInUp 0.8s ease 0.4s both;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: var(--white);
            border-radius: 50%;
            text-decoration: none;
            color: var(--dark-text);
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .social-links a:hover {
            transform: translateY(-3px) scale(1.1) rotate(5deg);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            background: var(--primary-green);
            color: var(--white);
        }

        .social-links svg {
            width: 22px;
            height: 22px;
            fill: currentColor;
            transition: var(--transition);
        }

        /* About Section */
        #about {
            padding: 5rem 2rem;
            min-height: auto;
        }

        .about-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 3rem;
            align-items: center;
            background: var(--white);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        .about-image {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .about-image-placeholder {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .about-content {
            padding: 1rem;
        }

        .about-content p {
            margin-bottom: 1.5rem;
            color: var(--light-text);
            line-height: 1.8;
        }

        /* CV Section */
        .cv-item {
            background: var(--white);
            padding: 2rem;
            margin-bottom: 1.5rem;
            border-radius: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-left: 4px solid var(--primary-green);
        }

        .cv-item:hover {
            transform: translateX(10px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        /* Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .project-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .project-content {
            padding: 2rem;
        }

        .project-video {
            width: 100%;
            height: 200px;
            background: var(--light-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light-green);
        }

        .tech-stack {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .tech-tag {
            background: var(--light-green);
            color: var(--white);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
        }

        /* Writing Section */
        #writing {
            padding: 5rem 2rem;
        }

        .blog-posts {
            display: grid;
            gap: 2rem;
            margin-top: 2rem;
        }

        .blog-post {
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .blog-post:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .blog-date {
            color: var(--light-green);
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .blog-title {
            color: var(--dark-text);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .blog-excerpt {
            color: var(--light-text);
            line-height: 1.6;
        }

        .load-more {
            text-align: center;
            margin-top: 2rem;
        }

        .load-more button {
            background: var(--primary-green);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
        }

        .load-more button:hover {
            background: var(--light-green);
            transform: scale(1.05);
        }

        /* Adventure Section */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .photo-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            height: 250px;
            background: linear-gradient(135deg, var(--light-green), var(--accent-blue));
            cursor: pointer;
            transition: var(--transition);
        }

        .photo-item:hover {
            transform: scale(1.05);
            z-index: 10;
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 2000;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s ease;
        }

        .lightbox.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }

        .lightbox img {
            width: 100%;
            height: auto;
            display: block;
            animation: zoomIn 0.3s ease;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 40px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }

        .lightbox-close:hover {
            color: var(--primary-green);
            transform: scale(1.2);
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 30px;
            cursor: pointer;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            transition: var(--transition);
        }

        .lightbox-nav:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .adventure-highlights {
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 3rem;
        }

        .adventure-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .adventure-item {
            padding: 1rem;
            background: linear-gradient(135deg, rgba(45, 90, 61, 0.1), transparent);
            border-radius: 10px;
            border-left: 3px solid var(--primary-green);
        }

        /* World Travel Map */
        .world-travel {
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 3rem;
            box-shadow: var(--shadow);
        }

        .world-travel h3 {
            text-align: center;
            color: var(--primary-green);
            margin-bottom: 2rem;
        }

        #world-map {
            margin: 2rem 0;
        }

        .travel-stats {
            text-align: center;
            font-size: 1.5rem;
            color: var(--primary-green);
            font-weight: 600;
            padding: 1rem;
            background: linear-gradient(135deg, rgba(45, 90, 61, 0.1), transparent);
            border-radius: 10px;
        }

        .country-count {
            font-size: 2rem;
            color: var(--accent-blue);
        }

        .world-percentage {
            font-size: 2rem;
            color: var(--light-green);
        }

        /* Books Section */
        .books-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-top: 2rem;
        }

        .book-category h3 {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary-green);
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1.5rem;
        }

        .book-card {
            perspective: 1000px;
            height: 220px;
            cursor: pointer;
        }

        .book-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .book-card.flipped .book-inner {
            transform: rotateY(180deg);
        }

        .book-front, .book-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }

        .book-front {
            background: linear-gradient(135deg, var(--primary-green), var(--light-green));
            color: white;
        }

        .book-back {
            background: var(--white);
            transform: rotateY(180deg);
            color: var(--dark-text);
            font-size: 0.875rem;
            padding: 1.5rem;
        }

        .book-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .book-author {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .book-front img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .book-front {
            padding: 0;
            background: none;
        }

        /* Contact Section */
        #contact {
            text-align: center;
        }

        .contact-form {
            max-width: 600px;
            margin: 2rem auto;
            background: var(--white);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--primary-green);
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid transparent;
            background: var(--light-bg);
            border-radius: 10px;
            transition: var(--transition);
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-green);
            background: var(--white);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .submit-btn {
            background: var(--primary-green);
            color: white;
            padding: 1rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .submit-btn:hover {
            background: var(--light-green);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.75rem; }
            .books-container { grid-template-columns: 1fr; }
            .projects-grid { grid-template-columns: 1fr; }
            nav li { margin: 0 0.75rem; }
            .social-links {
                gap: 1rem;
            }
            .social-links a {
                width: 45px;
                height: 45px;
            }
            .about-container {
                grid-template-columns: 1fr;
            }
            .theme-toggle {
                top: 4.5rem;
                right: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
        <svg class="sun-icon" viewBox="0 0 24 24" style="display: block;">
            <path d="M12 17.5C9.5 17.5 7.5 15.5 7.5 13S9.5 8.5 12 8.5 16.5 10.5 16.5 13 14.5 17.5 12 17.5M12 7C8.7 7 6 9.7 6 13S8.7 19 12 19 18 16.3 18 13 15.3 7 12 7M12 2L14.4 6.4L19 5.7L16.2 9.8L18.6 14L14 12.7L9.4 14L11.8 9.8L9 5.7L13.6 6.4L12 2Z"/>
        </svg>
        <svg class="moon-icon" viewBox="0 0 24 24" style="display: none;">
            <path d="M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z"/>
        </svg>
    </button>
    <!-- Navigation -->
    <nav>
        <ul>
            <li><a href="#hero" class="nav-link active">Home</a></li>
            <li><a href="#about" class="nav-link">About</a></li>
            <li><a href="#cv" class="nav-link">CV</a></li>
            <li><a href="#projects" class="nav-link">Coding</a></li>
            <li><a href="#writing" class="nav-link">Writing</a></li>
            <li><a href="#adventures" class="nav-link">Nature</a></li>
            <li><a href="#books" class="nav-link">Reading</a></li>
            <li><a href="#contact" class="nav-link">Contact</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section id="hero">
        <h1>Daniel Issing</h1>
        <i><p class="tagline">"Irony is the song of a bird that has come to love its cage"</p></i>
        <div class="social-links">
            <a href="https://linkedin.com/in/daniel-issing" target="_blank" title="LinkedIn">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
            <a href="https://github.com/danielissing" target="_blank" title="GitHub">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
            <a href="https://medium.com/@daniel-issing" target="_blank" title="Medium">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zM20.96 12c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z"/>
                </svg>
            </a>
            <a href="https://strava.com/athletes/16293064" target="_blank" title="Strava">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.387 17.944l-2.089-4.116h-3.065L15.387 24l5.15-10.172h-3.066m-7.008-5.599l2.836 5.598h4.172L10.463 0l-7 13.828h4.169"/>
                </svg>
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <h2>About Me</h2>
        <div class="about-container">
            <div class="about-image">
                <img src="images/daniel.jpg" alt="Daniel Issing">
            </div>
            <div class="about-content">
                <p>
                    Hi there! I'm Daniel. Here is some text about me.
                </p>
                <p>
                    And some more text.
                </p>
                </p>
            </div>
        </div>
    </section>

    <!-- CV Section -->
    <section id="cv">
        <h2>Experience & Education</h2>
        
        <div class="cv-item">
            <h3>Researcher</h3>
            <p><strong>GiveWell (San Francisco Bay Area) </strong></p>
            <p>Finding the most cost-effective giving opportunities.</p>
        </div>

        <div class="cv-item">
            <h3>Data Science Team Lead</h3>
            <p><strong>Shift Technology (Paris) </strong></p>
            <p>AI-powered insurance fraud detection.</p>
        </div>

        <div class="cv-item">
            <h3>Asia Program Manager</h3>
            <p><strong>Students For Liberty (remote)</strong></p>
            <p>Grassroots movement for classical liberalism on university campuses.</p>
        </div>

        <div class="cv-item">
            <h3>MSc in Theoretical and Mathematical Physics</h3>
            <p><strong>Ludwig Maximilian University Munich & LAPTh Annecy </strong></p>
            <p>Thesis: The Quantum Determinant of the Elliptic Quantum Algebra Aq,p(gl N)</p>
        </div>

        <div class="cv-item">
            <h3>BSc in Physics</h3>
            <p><strong>Ruprecht Karls University Heidelberg & Carleton University, Ottawa</strong></p>
            <p>Thesis: [TO ADD].</p>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects">
        <h2>Featured Projects</h2>
        
        <div class="projects-grid">
            <div class="project-card">
                <div class="project-content">
                    <h3>AI Math Benchmark</h3>
                    <p>A benchmark suite for evaluating AI models on mathematical problem-solving tasks.</p>
                    <p style="margin-top: 1rem;">Some details.</p>
                    <p style="margin-top: 1rem;">
                        <a href="https://github.com/danielissing/euler" target="_blank" style="color: var(--accent-blue);">View on GitHub →</a>
                    </p>
                </div>
            </div>

            <div class="project-card">
                <div class="project-video">
                    <div style="text-align: center;">
                        <iframe src="videos/app_demo.mp4" width="100%" height="200"></iframe>
                    </div>
                </div>
                <div class="project-content">
                    <h3>Personal Race Time Predictor</h3>
                    <p>A Monte Carlo model that predicts race times based on training data, weather conditions, and course elevation profiles.</p>
                    <p style="margin-top: 1rem;">Integrated with Strava API for automatic training data collection and provides personalized pacing strategies.</p>
                    <p style="margin-top: 1rem;">
                        <a href="https://github.com/danielissing/race-predictor" target="_blank" style="color: var(--accent-blue);">View on GitHub →</a>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Writing Section -->
    <section id="writing">
        <h2>Writing</h2>
        <div id="blog-posts" class="blog-posts">
            <!-- Blog posts will be loaded here -->
            <div class="blog-post">
                <div class="blog-date">Loading posts...</div>
                <div class="blog-title">Fetching from Medium</div>
                <div class="blog-excerpt">Your latest articles will appear here.</div>
            </div>
        </div>
        <div class="load-more">
            <button onclick="loadMorePosts()">Load More Posts</button>
        </div>
    </section>

    <!-- Adventures Section -->
    <section id="adventures">
        <h2>The Great Outdoors</h2>
        
        <div class="photo-gallery">
            <div class="photo-item" onclick="openLightbox(0)">
                <img src="images/jasper.jpg" alt="Jasper, Canada">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(1)">
                <img src="images/granada.png" alt="Granada, Spain">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(2)">
                <img src="images/achenkanzel.png" alt="Koenigssee, Germany">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(3)">
                <img src="images/quilotoa.png" alt="Quilotoa Crater Lake, Ecuador">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(4)">
                <img src="images/grindelwald.png" alt="Grindelwald, Switzerland">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/toubkal.png" alt="Mount Toubkal, Morocco">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/banff.png" alt="Banff, Canada">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/zion.png" alt="Zion National Park, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/bariloche.png" alt="San Carlos de Bariloche, Argentina">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/cape_town.png" alt="Capte Town, South Africa">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/chamonix.png" alt="Chamonix, France">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/chile.png" alt="Putre, Chile">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/emosson.png" alt="Emosson Dam, Switzerland">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/kauai.png" alt="Kauai, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/lugano.png" alt="Lake Lugano, Switzerland">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/mammoth.png" alt="Mammoth Lakes, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/paxos.png" alt="Paxos, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/pyrenees.png" alt="Lac de Gaube, France">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/squamish.png" alt="Squamish, Canada">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/st_bernard.png" alt="Near the Col du Petit St. Bernard, France">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/redwoods.png" alt="Coastal Redwoods near Santa Cruz, United States">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img src="images/uyuni.png" alt="Salar de Uyuni, Bolivia">
                <div style="padding: 2rem; color: white; text-align: center;">
                </div>
            </div>
        </div>

        <!-- Lightbox -->
        <div id="lightbox" class="lightbox">
            <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
            <div class="lightbox-content">
                <span class="lightbox-nav lightbox-prev" onclick="changePhoto(-1)">‹</span>
                <img id="lightbox-img" src="" alt="Adventure photo">
                <span class="lightbox-nav lightbox-next" onclick="changePhoto(1)">›</span>
            </div>
        </div>

        <div class="adventure-highlights">
            <h3>Trail Running & Cycling Highlights</h3>
            <div class="adventure-list">
                <div class="adventure-item">
                    <h4>Ultra Trail du Mont Blanc (2021)</h4>
                    <p>Without a doubt the most famous trail running event in the world. I was lucky enough to win a lottery ticket for the 2021 edition. Crazy atmosphere.</p>
                </div>
                <div class="adventure-item">
                    <h4>Eiger Ultra Trail (2022)</h4>
                    <p>My longest race so far. Around 260km and 18,000 vertical meters. Three days, two nights, a few hours of sleep.</p>
                </div>
                <div class="adventure-item">
                    <h4>GR 20 (2021)</h4>
                    <p>Corsica's famous (and technical) long-distance hiking trail. Ran it with a friend in full autonomy over the course of four days..</p>
                </div>
                <div class="adventure-item">
                    <h4>Via Alpina (2023)</h4>
                    <p>The original Via Alpina is a trek that crosses the Alps from East to West, traversing 8 different countries. With my wife, we drew our own version of it that could be completed on a bike.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Books Section -->
    <section id="books">
        <h2>Favorite Books</h2>
        
        <div class="books-container">
            <div class="book-category">
                <h3>Fiction</h3>
                <div class="books-grid">
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780312420277-M.jpg" alt="The Feast of the Goat">
                            </div>
                            <div class="book-back">
                                <h3>The Feast of the Goat</h3>
                                <p>Mario Vargas Llosa</p>
                                <p>A Novel</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780593087480-M.jpg" alt="The Books of Jacob">
                            </div>
                            <div class="book-back">
                                <h3>The Books of Jacob</h3>
                                <p>Olga Tokarczuk</p>
                                <p>A Novel</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780061353451-M.jpg" alt="The Kindly Ones">
                            </div>
                            <div class="book-back">
                                <h3>Les Bienveillantes</h3>
                                <p>Jonathan Littell</p>
                                <p>The Kindly Ones</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780679772873-M.jpg" alt="The Magic Mountain">
                            </div>
                            <div class="book-back">
                                <h3>Der Zauberberg</h3>
                                <p>Thomas Mann</p>
                                <p>The Magic Mountain</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780312421274-M.jpg" alt="The Corrections">
                            </div>
                            <div class="book-back">
                                <h3>The Corrections</h3>
                                <p>Jonathan Franzen</p>
                                <p>A Novel</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780156004800-M.jpg" alt="All the King's Men">
                            </div>
                            <div class="book-back">
                                <h3>All the King's Men</h3>
                                <p>Robert Penn Warren</p>
                                <p>A Political Novel</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="book-category">
                <h3>Non-Fiction</h3>
                <div class="books-grid">
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9781846141812-M.jpg" alt="The Righteous Mind">
                            </div>
                            <div class="book-back">
                                <p>lorem ipsum.</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780674368309-M.jpg" alt="The Enigma of Reason">
                            </div>
                            <div class="book-back">
                                <h3>The Enigma of Reason</h3>
                                <p>Hugo Mercier & Dan Sperber</p>
                                <p>A New Theory of Human Understanding</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780465026562-M.jpg" alt="Gödel, Escher, Bach">
                            </div>
                            <div class="book-back">
                                <h3>Gödel, Escher, Bach</h3>
                                <p>Douglas Hofstadter</p>
                                <p>An Eternal Golden Braid</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780679746744-M.jpg" alt="Why We Get Sick">
                            </div>
                            <div class="book-back">
                                <h3>Why We Get Sick</h3>
                                <p>Randolph Nesse & George Williams</p>
                                <p>The New Science of Darwinian Medicine</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780691166858-M.jpg" alt="The Secret of Our Success">
                            </div>
                            <div class="book-back">
                                <h3>The Secret of Our Success</h3>
                                <p>Joseph Henrich</p>
                                <p>How Culture Is Driving Human Evolution</p>
                            </div>
                        </div>
                    </div>
                    <div class="book-card" onclick="flipBook(this)">
                        <div class="book-inner">
                            <div class="book-front">
                                <img src="https://covers.openlibrary.org/b/isbn/9780300078152-M.jpg" alt="Seeing Like a State">
                            </div>
                            <div class="book-back">
                                <h3>Seeing Like a State</h3>
                                <p>James C. Scott</p>
                                <p>How Certain Schemes to Improve the Human Condition Have Failed</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Get in Touch</h2>
        <p style="margin-bottom: 2rem;">Have a question or want to chat? I'd love to hear from you!</p>
        
        <div class="contact-form">
            <form action="https://formspree.io/f/mdklyqje" method="POST">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="subject">Subject</label>
                    <input type="text" id="subject" name="subject" required>
                </div>
                
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" required></textarea>
                </div>
                
                <button type="submit" class="submit-btn">Send Message</button>
            </form>
        </div>
    </section>

    <script>
        // Dark mode toggle
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            
            // Toggle icon visibility
            const sunIcon = document.querySelector('.sun-icon');
            const moonIcon = document.querySelector('.moon-icon');
            if (newTheme === 'dark') {
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
            } else {
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
            }
            
            // Save preference
            localStorage.setItem('theme', newTheme);
        }

        // Load theme preference
        window.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            const sunIcon = document.querySelector('.sun-icon');
            const moonIcon = document.querySelector('.moon-icon');
            if (savedTheme === 'dark') {
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
            }
        });

        // Smooth scroll and active nav highlighting
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.nav-link');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').slice(1) === current) {
                    link.classList.add('active');
                }
            });
        });

        // Book flipping
        function flipBook(card) {
            card.classList.toggle('flipped');
        }

        // Lightbox functionality
        let currentPhotoIndex = 0;
        const photos = [
            // Add your actual photo URLs here
            'path-to-photo1.jpg',
            'path-to-photo2.jpg',
            'path-to-photo3.jpg',
            'path-to-photo4.jpg',
            'path-to-photo5.jpg',
            'path-to-photo6.jpg'
        ];

        function openLightbox(index) {
            currentPhotoIndex = index;
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.add('active');
            updateLightboxImage();
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
        }

        function changePhoto(direction) {
            currentPhotoIndex = (currentPhotoIndex + direction + photos.length) % photos.length;
            updateLightboxImage();
        }

        function updateLightboxImage() {
            const galleryImages = document.querySelectorAll('.photo-item img');
            if (galleryImages[currentPhotoIndex]) {
                document.getElementById('lightbox-img').src = galleryImages[currentPhotoIndex].src;
            }
        }

        // Close lightbox with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeLightbox();
            } else if (e.key === 'ArrowLeft') {
                changePhoto(-1);
            } else if (e.key === 'ArrowRight') {
                changePhoto(1);
            }
        });

        // Close lightbox when clicking outside
        document.getElementById('lightbox').addEventListener('click', (e) => {
            if (e.target.id === 'lightbox') {
                closeLightbox();
            }
        });

        // Medium RSS feed integration
        async function loadMediumPosts() {
            const mediumUsername = 'daniel-issing'; 
            const rssUrl = `https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@${mediumUsername}`;
            
            try {
                const response = await fetch(rssUrl);
                const data = await response.json();
                
                if (data.status === 'ok') {
                    displayPosts(data.items.slice(0, 3)); // Show first 3 posts
                }
            } catch (error) {
                console.error('Error loading Medium posts:', error);
                document.getElementById('blog-posts').innerHTML = `
                    <div class="blog-post">
                        <div class="blog-title">Unable to load posts</div>
                        <div class="blog-excerpt">
                            Please visit my <a href="https://medium.com/@${mediumUsername}" target="_blank" style="color: var(--accent-blue);">Medium profile</a> to read my articles.
                        </div>
                    </div>
                `;
            }
        }

        function displayPosts(posts) {
            const container = document.getElementById('blog-posts');
            container.innerHTML = posts.map(post => {
                const date = new Date(post.pubDate).toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Extract clean excerpt from description
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = post.description;
                const excerpt = tempDiv.textContent.substring(0, 200) + '...';
                
                return `
                    <a href="${post.link}" target="_blank" class="blog-post">
                        <div class="blog-date">${date}</div>
                        <div class="blog-title">${post.title}</div>
                        <div class="blog-excerpt">${excerpt}</div>
                    </a>
                `;
            }).join('');
        }

        let postsLoaded = 5;
        function loadMorePosts() {
            // This would load more posts in a real implementation
            alert('This would load more posts from Medium');
        }

        // Load Medium posts when page loads
        loadMediumPosts();

        // Add fade-in animation to elements as they appear
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.cv-item, .project-card, .adventure-item').forEach(el => {
            observer.observe(el);
        });

        // World Map - Visited Countries
        const visitedCountries = [
            'Albania',
            'Andorra',
            'Argentina',
            'Austria',
            'Belgium',
            'Bulgaria',
            'Canada',
            'Chile',
            'Costa Rica',
            'Czechia',
            'Denmark',
            'Ecuador',
            'Egypt',
            'Estonia',
            'Finland',
            'France',
            'Germany',
            'Greece',
            'Hungary',
            'Indonesia',
            'Italy',
            'Latvia',
            'Liechtenstein',
            'Lithuania',
            'Luxembourg',
            'Malta',
            'Monaco',
            'Morocco',
            'Nepal',
            'Netherlands',
            'New Zealand',
            'North Macedonia',
            'Norway',
            'Panama',
            'Poland',
            'Portugal',
            'Qatar',
            'Romania',
            'Rwanda',
            'Senegal',
            'Serbia',
            'Slovakia',
            'Slovenia',
            'South Africa',
            'Spain',
            'Sweden',
            'Switzerland',
            'United Kingdom',
            'United States',
            //'Zambia',
        ];

        // D3 SVG World Map (no top-level await)
        window.addEventListener('DOMContentLoaded', function () {
          // normalize some dataset naming differences
          const alias = new Map([
            ['United States','United States of America'],
            ['Czech Republic','Czechia'],
            ['Swaziland','Eswatini'],
            ['Cape Verde','Cabo Verde'],
            ['Ivory Coast',"Côte d'Ivoire"],
            ['Laos',"Lao People's Democratic Republic"],
            ['South Korea','Korea, Republic of'],
            ['North Korea',"Korea (Democratic People's Republic of)"],
            ['Syria','Syrian Arab Republic'],
            ['Russia','Russian Federation'],
            ['Moldova','Moldova, Republic of'],
            ['Tanzania','United Republic of Tanzania'],
            ['Venezuela','Venezuela (Bolivarian Republic of)'],
            ['Micronesia','Micronesia (Federated States of)'],
            ['Palestine','Palestine, State of'],
            ['Burma','Myanmar']
          ]);
          const normalize = n => alias.get(n) || n;
          const visitedSet = new Set((window.visitedCountries || []).map(normalize));

          const svg = d3.select('#world-map svg')
            .attr('preserveAspectRatio','xMidYMid meet')
            .attr('viewBox','0 0 1000 500');

          svg.selectAll('*').remove(); // clear any previous

          const tooltip = d3.select('#world-map').append('div').attr('class','map-tooltip');

          const projection = d3.geoNaturalEarth1().fitSize([1000, 500], {type:'Sphere'});
          const path = d3.geoPath(projection);

          const COUNTRY_TOTAL = 195;

          Promise.all([
            d3.json('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json'),
            d3.tsv('https://cdn.jsdelivr.net/npm/world-atlas@2/country-names.tsv')
          ]).then(([topo, nameRows]) => {
            const nameById = new Map(nameRows.map(d => [d.id, d.name]));
            const countries = topojson.feature(topo, topo.objects.countries).features;

            svg.append('path').datum({type:'Sphere'}).attr('class','sphere').attr('d', path);

            const matchedVisited = new Set();

            svg.append('g').selectAll('path.country')
              .data(countries)
              .join('path')
                .attr('class', d => {
                  const nm = nameById.get(d.id);
                  const isVisited = visitedSet.has(nm);
                  if (isVisited) matchedVisited.add(nm);
                  return 'country' + (isVisited ? ' visited' : '');
                })
                .attr('d', path)
                .on('mousemove', (event, d) => {
                  const nm = nameById.get(d.id) || 'Unknown';
                  const isVisited = visitedSet.has(nm);
                  tooltip
                    .style('left', `${event.offsetX}px`)
                    .style('top',  `${event.offsetY}px`)
                    .style('opacity', 1)
                    .html(`${nm}${isVisited ? ' · ✅ visited' : ''}`);
                })
                .on('mouseleave', () => tooltip.style('opacity', 0));

            const count = matchedVisited.size;
            const pct = Math.round((count / COUNTRY_TOTAL) * 100);
            const cc = document.querySelector('.country-count');
            const wp = document.querySelector('.world-percentage');
            if (cc) cc.textContent = count;
            if (wp) wp.textContent = pct + '%';
          }).catch(err => {
            console.error('World map error:', err);
          });
        });

    </script>
</body>
</html>